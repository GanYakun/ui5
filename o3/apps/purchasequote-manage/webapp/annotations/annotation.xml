<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">
    <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Common.xml">
        <edmx:Include Namespace="com.sap.vocabularies.Common.v1" Alias="Common"/>
    </edmx:Reference>
    <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/UI.xml">
        <edmx:Include Namespace="com.sap.vocabularies.UI.v1" Alias="UI"/>
    </edmx:Reference>
    <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Communication.xml">
        <edmx:Include Namespace="com.sap.vocabularies.Communication.v1" Alias="Communication"/>
    </edmx:Reference>
    <edmx:Reference Uri="/bf-demo/control/odataAppSvc/purchaseOrderManage/$metadata">
        <edmx:Include Namespace="com.dpbird"/>
    </edmx:Reference>
    <edmx:DataServices>
        <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="local">
            <Annotations Target="com.dpbird.PurchaseQuote">
                <Annotation Term="UI.Facets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="QuoteItemLineItem"/>
                            <PropertyValue Property="Label" String="报价项目"/>
                            <PropertyValue Property="Target" AnnotationPath="QuoteItem/@UI.LineItem#QuoteItemLineItem"/>
                        </Record>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="Label" String="报价条款"/>
                            <PropertyValue Property="Target" AnnotationPath="QuoteTerm/@UI.LineItem#QuoteTermLineItem"/>
                        </Record>
                    </Collection>
                </Annotation>

                <Annotation Term="UI.HeaderFacets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="QuoteItemLineItem"/>
                            <PropertyValue Property="Label" String="基本信息"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#BaseInfo"/>
                        </Record>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="Status"/>
                            <PropertyValue Property="Label" String="状态"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.DataPoint#Status"/>
                        </Record>
                    </Collection>
                </Annotation>

                <Annotation Term="UI.DataPoint" Qualifier="Status">
                    <Record Type="UI.DataPointType">
                        <PropertyValue Property="Title" String="状态"/>
                        <PropertyValue Property="Value" Path="statusId"/>
                        <PropertyValue Property="Criticality" Path="statusColor" />
                    </Record>
                </Annotation>

                <Annotation Term="UI.Identification">
                    <Collection>
                        <Record Type="UI.DataFieldForIntentBasedNavigation">
                            <PropertyValue Property="SemanticObject" String="PurchaseOrder"/>
                            <PropertyValue Property="Action" String="manage"/>
                            <PropertyValue Property="Label" String="查看生成订单"/>
                            <PropertyValue Property="Mapping">
                                <Collection>
                                    <Record Type="Common.SemanticObjectMappingType">
                                        <PropertyValue Property="LocalProperty" PropertyPath="quoteId"/>
                                        <PropertyValue Property="SemanticObjectProperty" String="quoteId"/>
                                    </Record>
                                </Collection>
                            </PropertyValue>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                         
                    </Collection>
                </Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.QuoteItem">
                <Annotation Term="UI.LineItem" Qualifier="QuoteItemLineItem">
                    <Collection>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="productId"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="Product/productName"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="quantity"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="quoteUnitPrice"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                        <!-- <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="custRequestId"/>
                            <PropertyValue Property="Label" String="请求单ID"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record> -->
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="comments"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                       <Record Type="UI.DataFieldForIntentBasedNavigation">
                            <PropertyValue Property="SemanticObject" String="Purchase"/>
                            <PropertyValue Property="Action" String="Request"/>
                            <PropertyValue Property="Label" String="查看采购请求"/>
                            <PropertyValue Property="Mapping">
                                <Collection>
                                    <Record Type="Common.SemanticObjectMappingType">
                                        <PropertyValue Property="LocalProperty" PropertyPath="custRequestId"/>
                                        <PropertyValue Property="SemanticObjectProperty" String="custRequestId"/>
                                    </Record>
                                </Collection>
                            </PropertyValue>
                            <PropertyValue Property="Inline" Bool="true"/>
                            <Annotation Term="UI.Importance" EnumMember="UI.ImportanceType/High"/>
                        </Record>
                        
                    </Collection>
                </Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.PurchaseQuote/partyId">
                <Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"></Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.PurchaseQuote/statusId">
                <Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"></Annotation>
            </Annotations>
            <Annotations Target="com.dpbird.PurchaseQuote/description">
                <Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"></Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.Supplier">
                <Annotation Term="UI.QuickViewFacets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="quickviewfieldgroup"/>
                            <PropertyValue Property="Label" String="供应商信息"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#quickviewfieldgroup"/>
                        </Record>
                    </Collection>
                </Annotation>
                <Annotation Term="UI.FieldGroup" Qualifier="quickviewfieldgroup">
                    <Record Type="UI.FieldGroupType">
                        <PropertyValue Property="Data">
                            <Collection>
                                <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="公司名称"/>
                                    <PropertyValue Property="Value" Path="partyName"/>
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="联系电话"/>
                                    <PropertyValue Property="Value" Path="PartyAndContact/primaryPhone"/>
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="邮箱"/>
                                    <PropertyValue Property="Value" Path="PartyAndContact/primaryEmail"/>
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="地址"/>
                                    <PropertyValue Property="Value" Path="PartyAndContact/address1"/>
                                </Record>
                            </Collection>
                        </PropertyValue>
                    </Record>
                </Annotation>

                <Annotation Term="UI.HeaderInfo">
                    <Record Type="UI.HeaderInfoType">
                        <PropertyValue Property="ImageUrl" Path="PartyGroup/logoImageUrl"/>
                            <PropertyValue Property="TypeName" String="供应商"/>
                            <PropertyValue Property="TypeNamePlural" String="供应商列表"/>
                            <PropertyValue Property="Title">
                            <Record Type="UI.DataField">
                                <PropertyValue Property="Value" Path="partyName"></PropertyValue>
                                <PropertyValue Property="Label" String="供应商"></PropertyValue>
                            </Record>
                            </PropertyValue>
                            <PropertyValue Property="Description">
                            <Record Type="UI.DataField">
                                <PropertyValue Property="Value" Path="externalId"></PropertyValue>
                                <PropertyValue Property="Label" String="工号"></PropertyValue>
                            </Record>
                            </PropertyValue>
                    </Record>
                </Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.PurchaseRequest">
                <Annotation Term="UI.QuickViewFacets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="quickviewfieldgroup"/>
                            <PropertyValue Property="Label" String="采购请求单"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#quickviewfieldgroup"/>
                        </Record>
                    </Collection>
                </Annotation>
                <Annotation Term="UI.FieldGroup" Qualifier="quickviewfieldgroup">
                    <Record Type="UI.FieldGroupType">
                        <PropertyValue Property="Data">
                            <Collection>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="描述"/>
                                    <PropertyValue Property="Value" Path="description" />
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="请求人"/>
                                    <PropertyValue Property="Value" Path="fromPartyId" />
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="请求原因"/>
                                    <PropertyValue Property="Value" Path="reason" />
                                </Record>
                                <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="请求日期"/>
                                    <PropertyValue Property="Value" Path="custRequestDate" />
                                </Record>
                            </Collection>
                        </PropertyValue>
                    </Record>
                </Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.Product">
                <Annotation Term="UI.QuickViewFacets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="quickviewfieldgroup"/>
                            <PropertyValue Property="Label" String="产品"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#quickviewfieldgroup"/>
                        </Record>
                    </Collection>
                </Annotation>
                <Annotation Term="UI.FieldGroup" Qualifier="quickviewfieldgroup">
                    <Record Type="UI.FieldGroupType">
                        <PropertyValue Property="Data">
                            <Collection>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="产品ID"/>
                                    <PropertyValue Property="Value" Path="productId" />
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="产品名称"/>
                                    <PropertyValue Property="Value" Path="productName" />
                                </Record>
                                 <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="品牌"/>
                                    <PropertyValue Property="Value" Path="brandName" />
                                </Record>
                                <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="内部名称"/>
                                    <PropertyValue Property="Value" Path="internalName" />
                                </Record>
                            </Collection>
                        </PropertyValue>
                    </Record>
                </Annotation>

                <Annotation Term="UI.HeaderInfo">
                    <Record Type="UI.HeaderInfoType">
                        <PropertyValue Property="ImageUrl" Path="mediumImageUrl" />
                            <PropertyValue Property="TypeName" String="产品"/>
                            <PropertyValue Property="TypeNamePlural" String="产品列表"/>
                            <PropertyValue Property="Title">
                            <Record Type="UI.DataField">
                                <PropertyValue Property="Value" Path="productId"></PropertyValue>
                                <PropertyValue Property="Label" String="产品ID"></PropertyValue>
                            </Record>
                            </PropertyValue>
                            <PropertyValue Property="Description">
                            <Record Type="UI.DataField">
                                <PropertyValue Property="Value" Path="productName"></PropertyValue>
                                <PropertyValue Property="Label" String="产品名称"></PropertyValue>
                            </Record>
                            </PropertyValue>
                    </Record>
                </Annotation>
            </Annotations>
        </Schema>
    </edmx:DataServices>
</edmx:Edmx>