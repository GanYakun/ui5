<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">
    <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Common.xml">
        <edmx:Include Namespace="com.sap.vocabularies.Common.v1" Alias="Common"/>
    </edmx:Reference>
    <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/UI.xml">
        <edmx:Include Namespace="com.sap.vocabularies.UI.v1" Alias="UI"/>
    </edmx:Reference>
    <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Communication.xml">
        <edmx:Include Namespace="com.sap.vocabularies.Communication.v1" Alias="Communication"/>
    </edmx:Reference>
    <edmx:Reference Uri="/bf-demo/control/odatasvc/shipmentRequestManage/$metadata">
        <edmx:Include Namespace="com.dpbird"/>
    </edmx:Reference>
    <edmx:DataServices>
        <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="local">
            <Annotations Target="com.dpbird.PurchaseRequest">
                <Annotation Term="UI.HeaderFacets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="BaseInfo"/>
                            <PropertyValue Property="Label" String="基本信息"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#BaseInfo"/>
                        </Record>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="Status"/>
                            <PropertyValue Property="Label" String="状态"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.DataPoint#Status"/>
                        </Record>
                    </Collection>
                </Annotation>

                <Annotation Term="UI.DataPoint" Qualifier="Status">
                    <Record Type="UI.DataPointType">
                        <PropertyValue Property="Title" String="状态"/>
                        <PropertyValue Property="Value" Path="statusId"/>
                         <PropertyValue Property="Criticality" Path="statusColor"/>
                    </Record>
                </Annotation>

                <Annotation Term="UI.Facets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="CustRequestItemLineItem"/>
                            <PropertyValue Property="Label" String="请求项目"/>
                            <PropertyValue Property="Target" AnnotationPath="CustRequestItem/@UI.LineItem#CustRequestItemLineItem"/>
                        </Record>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="ApprovalLineItem"/>
                            <PropertyValue Property="Label" String="审批记录"/>
                            <PropertyValue Property="Target" AnnotationPath="Approval/@UI.LineItem#ApprovalLineItem"/>
                        </Record>
                    </Collection>
                </Annotation>

                <Annotation Term="UI.Identification">
                    <Collection>
                        <Record Type="UI.DataFieldForIntentBasedNavigation">
                            <PropertyValue Property="Label" String="查看报价"/>
                            <PropertyValue Property="SemanticObject" String="PurchaseQuote"/>
                            <PropertyValue Property="Action" String="Manage"/>
                            <PropertyValue Property="Mapping">
                                <Collection>
                                    <Record Type="Common.SemanticObjectMappingType">
                                        <PropertyValue Property="LocalProperty" PropertyPath="custRequestId"></PropertyValue>
                                        <PropertyValue Property="SemanticObjectProperty" String="custRequestId"></PropertyValue>
                                    </Record>
                                     <!-- <Record Type="Common.SemanticObjectMappingType">
                                        <PropertyValue Property="LocalProperty" PropertyPath="fromPartyId"></PropertyValue>
                                        <PropertyValue Property="SemanticObjectProperty" String="partyId"></PropertyValue>
                                    </Record> -->
                                </Collection>
                            </PropertyValue>
                        </Record> 
                    </Collection>
                </Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.PurchaseRequest/statusId">
                <Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"></Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.PurchaseRequest/description">
                <Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"></Annotation>
            </Annotations>

            <!-- <Annotations Target="com.dpbird.PurchaseRequest/fromPartyId">
                <Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"></Annotation>
            </Annotations> -->

             

            <Annotations Target="com.dpbird.CustRequestItem">
                <Annotation Term="UI.LineItem" Qualifier="CustRequestItemLineItem">
                    <Collection>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="productId"/>
                        </Record>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="Product/productName"/>
                        </Record>
                        <Record Type="UI.DataField">
                            <PropertyValue Property="Value" Path="quantity"/>
                        </Record>
                         <!-- <Record Type="UI.DataField">
                         <PropertyValue Property="Label" String="请求单ID"/>
                            <PropertyValue Property="Value" Path="custRequestId"/>
                        </Record> -->
                        
                    </Collection>
                </Annotation>
            </Annotations>

            <Annotations Target="com.dpbird.Employee">
                <Annotation Term="UI.QuickViewFacets">
                    <Collection>
                        <Record Type="UI.ReferenceFacet">
                            <PropertyValue Property="ID" String="quickviewfieldgroup"/>
                            <PropertyValue Property="Label" String="员工信息"/>
                            <PropertyValue Property="Target" AnnotationPath="@UI.FieldGroup#quickviewfieldgroup"/>
                        </Record>
                    </Collection>
                </Annotation>
                <Annotation Term="UI.FieldGroup" Qualifier="quickviewfieldgroup">
                    <Record Type="UI.FieldGroupType">
                        <PropertyValue Property="Data">
                            <Collection>
                                <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="员工名称"/>
                                    <PropertyValue Property="Value" Path="partyName"/>
                                </Record>
                                <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="工号"/>
                                    <PropertyValue Property="Value" Path="externalId"/>
                                </Record>
                                    <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="所属部门"/>
                                    <PropertyValue Property="Value" Path="Department/partyName"/>
                                </Record>
                                    <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="其他联系方式"/>
                                    <PropertyValue Property="Value" Path="PartyAndContact/primaryPhone"/>
                                </Record>
                                    <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="邮箱"/>
                                    <PropertyValue Property="Value" Path="PartyAndContact/primaryEmail"/>
                                </Record>
                                    <Record Type="UI.DataField">
                                    <PropertyValue Property="Label" String="联系电话"/>
                                    <PropertyValue Property="Value" Path="PartyAndContact/phoneMobile"/>
                                </Record>
                            </Collection>
                        </PropertyValue>
                    </Record>
                </Annotation>

                <Annotation Term="UI.HeaderInfo">
                    <Record Type="UI.HeaderInfoType">
                        <PropertyValue Property="ImageUrl" Path="Person/personImageUrl"/>
                            <PropertyValue Property="TypeName" String="员工"/>
                            <PropertyValue Property="TypeNamePlural" String="员工列表"/>
                            <PropertyValue Property="Title">
                            <Record Type="UI.DataField">
                                <PropertyValue Property="Value" Path="partyName"></PropertyValue>
                                <PropertyValue Property="Label" String="员工"></PropertyValue>
                            </Record>
                            </PropertyValue>
                            <PropertyValue Property="Description">
                            <Record Type="UI.DataField">
                                <PropertyValue Property="Value" Path="externalId"></PropertyValue>
                                <PropertyValue Property="Label" String="工号"></PropertyValue>
                            </Record>
                            </PropertyValue>
                    </Record>
                </Annotation>
            </Annotations>
        </Schema>
    </edmx:DataServices>
</edmx:Edmx>